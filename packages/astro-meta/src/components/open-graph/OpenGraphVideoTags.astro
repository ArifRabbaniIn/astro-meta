---
import type { OpenGraphVideo } from '../../types/open-graph-metadata';

type Props = OpenGraphVideo;

const { url, secureUrl, type, width, height } = Astro.props;

let mimeType: string;

switch (type) {
  case 'mp4':
    mimeType = 'video/mp4';
    break;
  case 'mpeg':
    mimeType = 'video/mpeg';
    break;
  case 'AV1':
    mimeType = 'video/AV1';
    break;
  case 'H264':
    mimeType = 'video/H264';
    break;
  default:
    const _exhaustiveCheck: never = type;
    mimeType = _exhaustiveCheck;
}
---

<meta property="og:video" content={url} />
{secureUrl ? <meta property="og:video:secure_url" content={secureUrl} /> : null}
{mimeType ? <meta property="og:video:type" content={mimeType} /> : null}
{width ? <meta property="og:video:width" content={width.toString()} /> : null}
{
  height ?
    <meta property="og:video:height" content={height.toString()} />
  : null
}
